---
import type { ComponentProps } from "astro/types";
interface Props {
  title: string;
  sub: string;
  subLink?: string;
  startDate?: string;
  endDate?: string | "present";
  compiledContent: string;
}

const { title, sub, subLink, compiledContent, startDate, endDate } =
  Astro.props;
export type EntryProps = ComponentProps<typeof Entry>;
---

<div class="entry">
  <header class="flex">
    <div>
      <h3 class="entry__title">{title}</h3>
      {
        subLink ? (
          <a
            class="with-link"
            href={
              subLink?.startsWith("https://") ? subLink : `https://${subLink}`
            }
          >
            <h4 class="entry__subtitle">{sub}</h4>
          </a>
        ) : (
          <h4 class="entry__subtitle">{sub}</h4>
        )
      }
    </div>
    {
      (startDate || endDate) && (
        <div class="entry__date ml-auto">
          {`${startDate ? `${startDate} - ` : ""}${endDate ? endDate : ""}`}
        </div>
      )
    }
  </header>
  <div class="entry__content">
    <Fragment set:html={compiledContent} />
  </div>
</div>
